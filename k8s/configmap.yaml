apiVersion: v1
kind: ConfigMap
metadata:
  name: rate-limiter-config
  labels:
    app: rate-limiter
data:
  config.yaml: |
    server:
      http_port: 8080
      grpc_port: 9090
      read_timeout: 10s
      write_timeout: 10s
      shutdown_timeout: 30s

    redis:
      address: "redis:6379"
      password: ""
      db: 0
      pool_size: 10
      min_idle_conns: 5
      dial_timeout: 5s
      read_timeout: 3s
      write_timeout: 3s

    ratelimit:
      key_prefix: "rl:"
      ttl: 1h
      default_rules:
        - name: default
          capacity: 100
          refill_rate: 10
          period: 1m

    metrics:
      enabled: true
      path: "/metrics"

    logging:
      level: "info"
      format: "json"
